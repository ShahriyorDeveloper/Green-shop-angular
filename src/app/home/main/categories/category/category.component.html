<div class="container mx-auto p-4">
  <div class="w-[310px] bg-[#F5F5F580] p-[15px]">
    <h3 class="font-bold">Categories</h3>

    <!-- Loading indicator -->

    <p-skeleton
      height="2rem"
      *ngIf="isLoading"
      styleClass="mb-2 border p-2 rounded text-gray-900"
    />
    <p-skeleton
      height="2rem"
      *ngIf="isLoading"
      styleClass="mb-2 border p-2 rounded text-gray-900"
    />
    <p-skeleton
      height="2rem"
      *ngIf="isLoading"
      styleClass="mb-2 border p-2 rounded text-gray-900"
    />
    <p-skeleton
      height="2rem"
      *ngIf="isLoading"
      styleClass="mb-2 border p-2 rounded text-gray-900"
    />
    <p-skeleton
      height="2rem"
      *ngIf="isLoading"
      styleClass="mb-2 border p-2 rounded text-gray-900"
    />
    <p-skeleton
      height="2rem"
      *ngIf="isLoading"
      styleClass="mb-2 border p-2 rounded text-gray-900"
    />
    <p-skeleton
      height="2rem"
      *ngIf="isLoading"
      styleClass="mb-2 border p-2 rounded text-gray-900"
    />
    <p-skeleton
      height="2rem"
      *ngIf="isLoading"
      styleClass="mb-2 border p-2 rounded text-gray-900"
    />
    <p-skeleton
      height="2rem"
      *ngIf="isLoading"
      styleClass="mb-2 border p-2 rounded text-gray-900"
    />

    <!-- Error message -->
    <div *ngIf="errorMessage" class="text-red-500">
      <p>{{ errorMessage }}</p>
    </div>

    <div
      class="flex flex-col gap-4 mt-[10px] pl-[10px]"
      *ngIf="!isLoading && !errorMessage"
    >
      <ul class="space-y-1">
        <li
          *ngFor="let category of categories"
          (click)="onCategoryClick(category.route_path)"
          class="border p-2 rounded flex justify-between cursor-pointer"
          [class.text-green-500]="selectedCategory === category.route_path"
        >
          <h2 class="font-semibold">{{ category.title }}</h2>
          <p>{{ category.count }}</p>
        </li>
      </ul>
    </div>

    <div class="mt-[15px]">
      <h3 class="font-bold">Price Range</h3>
      <p-slider
        [(ngModel)]="rangeValues"
        [range]="true"
        styleClass="w-56 my-3"
      ></p-slider>

      <p class="font-normal">
        Price: $ {{ rangeValues[0] }} - $ {{ rangeValues[1] }}
      </p>
      <button
        (click)="applyFilters()"
        class="mt-[16px] bg-[#46A358] text-white px-[23px] py-[8px] rounded-lg"
      >
        Filter
      </button>
    </div>

    <app-discount />
  </div>
</div>
