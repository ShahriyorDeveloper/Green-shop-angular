<div>
  <app-header [typeProps]="typeParam" />
  <!-- Loading indicator -->
  <div *ngIf="isLoading" class="text-center">
    <h2>Loading...</h2>
  </div>

  <!-- Error message -->
  <div *ngIf="errorMessage" class="text-red-500">
    <p>{{ errorMessage }}</p>
  </div>

  <div class="grid lg:grid-cols-3 w-full gap-5 md:grid-cols-2 sm:grid-cols-1">
    <div *ngFor="let product of products" class="shadow">
      <div
        class="group h-[300px] bg-[#f5f5f5] flex justify-center items-center relative"
      >
        <div
          *ngIf="product.discount"
          class="bg-[#46A358] text-white absolute top-3 left-0 px-[5px] py-[3px]"
        >
          13% OFF
        </div>

        <img
          [src]="product.main_image"
          [alt]="product.title"
          class="w-full h-full"
        />

        <div
          class="hidden absolute inset-x-auto bottom-2 gap-4 group-hover:flex"
        >
          <div
            class="bg-[#FFFFFF] w-[35px] h-[35px] flex rounded-lg justify-center items-center cursor-pointer text-[20px]"
          >
            <i class="pi pi-cart-plus" style="font-size: 1rem"></i>
          </div>
          <div
            class="bg-[#FFFFFF] w-[35px] h-[35px] flex rounded-lg justify-center items-center cursor-pointer text-[20px]"
          >
            <i class="pi pi-heart" style="font-size: 1rem"></i>
          </div>
          <div
            class="bg-[#FFFFFF] w-[35px] h-[35px] flex rounded-lg justify-center items-center cursor-pointer text-[20px]"
          >
            <i class="pi pi-search" style="font-size: 1rem"></i>
          </div>
        </div>
      </div>
      <div (click)="navigateToProduct(product._id, product.category)">
        <h3 class="font-normal cursor-pointer mt-[12px] p-2">
          {{ product.title }}
        </h3>
        <p class="text-[#46A358] font-bold p-2">
          ${{ product?.discount ? product.discount_price : product?.price }}

          <span
            *ngIf="product?.discount"
            class="font-thin text-[#A5A5A5] ml-[5px] line-through"
          >
            ${{ product?.price }}
          </span>
        </p>
      </div>
    </div>
  </div>
</div>
